
R version 2.7.2 (2008-08-25)
Copyright (C) 2008 The R Foundation for Statistical Computing
ISBN 3-900051-07-0

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> ###
> ### TESTRPPA.R
> ###
> 
> 
> options(warn=1)
> library(SuperCurve)
Loading required package: MASS
Loading required package: cobs
Loading required package: SparseM
Package SparseM (0.78) loaded.  To cite, see citation("SparseM")
Loading required package: quantreg
Loading required package: splines
> source("checkFuncs")
> 
> extdata.dir <- system.file("extdata", package="SuperCurve")
> path <- file.path(extdata.dir, "rppaCellData")
> 
> checkException(RPPA("nosuch.tsv"),
+                msg="nonexistent file should fail")
Error in RPPA("nosuch.tsv") : file "./nosuch.tsv" does not exist
[1] TRUE
> checkException(RPPA("cellLineInfo.tsv", path=path),
+                msg="not MicroVigene datafile should fail")
Error in readMethod(file) : 
  file "/Users/paulr/Desktop/sandbox/trunk/SuperCurve.Rcheck/SuperCurve/rppaCellData/cellLineInfo.tsv" is not a MicroVigene datafile
[1] TRUE
> 
> akt <- RPPA("Akt.txt", path=path)
> image(akt, colorbar=TRUE)
> 
> image(akt, colorbar=1) # numeric colorbar value silently converted to logical
> 
> checkException(image(akt, colorbar="red"),
+                msg="character value should fail")
Error in .local(x, ...) : argument 'colorbar' must be logical
[1] TRUE
> 
> checkException(image(akt, measure="bogus"),
+                msg="invalid measure should fail")
Error in .local(x, ...) : invalid measure 'bogus'
[1] TRUE
> 
> if (getRversion() < "2.8.0") {
+     cat("Using outdated version of R...", "\n")
+     pdf(width=1.2, height=6)
+ } else {
+     dev.new(width=1.2, height=6)
+ }
Using outdated version of R... 
> try( image(akt) )
Error in plot.new() : figure margins too large
> try( image(akt, colorbar=TRUE) )
Error in plot.new() : figure margins too large
> dev.off()
pdf 
  2 
> 
> 
